<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.skhu.mapper.ReplaceLectureMapper">


    <resultMap id="replaceLecture1" type="replaceLecture">
        <id property="replace_id" column="replace_id"></id>
        <result property="closeLecture" column="closeLecture"></result>
        <result property="replaceLecture" column="replaceLecture"></result>
        <result property="year" column="year"></result>
        <result property="semester" column="semester"></result>
        <result property="split" column="split"></result>
        <result property="admin_id" column="admin_id"></result>
        <result property="title" column="title"></result>
        <result property="credit" column="credit"></result>
        <result property="subType" column="subType"></result>
        <association property="lecture" javaType="Lecture">
            <id property="id" column="closeLecture"></id>
            <result property="name" column="closeLectureName"></result>
        </association>
        <association property="admin" javaType="Admin">
            <id property="id" column="admin_Id"></id>
            <result property="name" column="adminName"></result>
        </association>
    </resultMap>

    <!--모든 대체과목 조회하기-->
    <select id="findAll" resultMap="replaceLecture1">
      select l.year,l.semester,l.id,l.title,l.subType
      from lecture l left join  replacelecture r
      on l.id = r.closeLecture
      order by year, semester;
   </select>

    <!--<select id="findAll" resultMap="replaceLecture">-->
<!--&gt;>>>>>> 901b2e26fd12fcdcd26ac746f07a34bbc19178da-->
        <!--<bind name="start" value="(currentPage-1)*pageSize"/>-->
        <!--<bind name="end" value="pageSize"/>-->
        <!--select l.year,l.semester,l.id,l.title,l.subType-->
        <!--from lecture l left join  replacelecture r-->
        <!--on l.id = r.closeLecture-->
        <!--order by year, semester;-->

    <!--</select>-->
<!--&gt;>>>>>> parent of ea86d96... 수업관리 update-->

    <!--&lt;!&ndash;강의 이름별로 대체 과목 조회하기 &ndash;&gt;-->
<!--&lt;!&ndash;    <select id="findBytitle" resultType="replacelecture">-->
        <!--select-->
        <!--from-->
    <!--</select>&ndash;&gt;-->

    <!--&lt;!&ndash;   대체 될 과목 추가하기&ndash;&gt;-->
    <!--<update id="updateRL2">-->
    <!--update replacelecture set-->
        <!--replaceLecture = #{replacelecture}-->
    <!--where closelecture = #{closelecture }-->
    <!--</update>-->

    <!--&lt;!&ndash;페이지네이션시 필요한 count&ndash;&gt;-->
    <!--<select id="count" resultType="int">-->
        <!--select count(*)-->
        <!--from lecture l left join  replacelecture r-->
        <!--on l.id = r.closeLecture-->
        <!--order by year, semester;-->

    <!--</select>-->

</mapper>